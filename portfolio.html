<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - 100만원을 9억으로 만든 기획자</title>
    <link rel="stylesheet" href="assets/css/style.css?v=20260105">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js preload for faster graph loading -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" as="script">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0" as="script">
</head>
<body>
    <!-- Global Navigation -->
    <nav class="navbar">
        <div class="nav-inner">
            <div class="nav-logo">Hybrid Planner. Kwon</div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li>
                    <a href="profile.html" class="nav-link">Profile</a>
                </li>
                <li>
                    <a href="portfolio.html" class="nav-link active">Portfolio</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <section class="section test-section">
        <div class="test-container">
            <!-- Sidebar -->
            <aside class="test-sidebar">
                <ul class="test-sidebar-menu">
                    <li><a href="#" class="test-sidebar-link active" data-filter="all">전체 보기</a></li>
                    <li><a href="#" class="test-sidebar-link" data-filter="strategy">전략 기획</a></li>
                    <li><a href="#" class="test-sidebar-link" data-filter="service">서비스 기획</a></li>
                    <li><a href="#" class="test-sidebar-link" data-filter="next">Next Step</a></li>
                </ul>
            </aside>

            <!-- Main Content Area -->
            <main class="test-main-content">
                <!-- Grid View -->
                <div class="test-thumbnail-grid" id="thumbnailGrid">
                    <!-- 전략 기획 포트폴리오 섹션 -->
                    <h2 class="section-title" style="grid-column: 1 / -1; display: flex; align-items: center; gap: 8px;">
                        <span>전략 기획 포트폴리오</span>
                        <button class="section-toggle-btn" data-section="strategy" aria-label="섹션 펼치기/접기">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </h2>
                    <div class="section-thumbnails" data-section="strategy">
                        <div class="test-thumbnail-box strategy1-box" data-box="1">
                            <!-- 썸네일 내용은 CSS로 처리되며, 클릭 시 전략1-1이 로드됩니다 -->
                        </div>
                        <div class="test-thumbnail-box strategy2-box" data-box="5">
                            <!-- 썸네일 내용은 CSS로 처리되며, 클릭 시 전략2-1이 로드됩니다 -->
                        </div>
                    </div>
                    
                    <!-- 서비스 기획 포트폴리오 섹션 -->
                    <h2 class="section-title" style="grid-column: 1 / -1; display: flex; align-items: center; gap: 8px;">
                        <span>서비스 기획 포트폴리오</span>
                        <button class="section-toggle-btn" data-section="service" aria-label="섹션 펼치기/접기">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </h2>
                    <div class="section-thumbnails" data-section="service">
                        <div class="test-thumbnail-box service-box" data-box="2">
                            <!-- 썸네일 내용은 CSS로 처리되며, 클릭 시 서비스1-1이 로드됩니다 -->
                        </div>
                        <div class="test-thumbnail-box service-box" data-box="3">
                            <!-- 썸네일 내용은 CSS로 처리되며, 클릭 시 서비스2-1이 로드됩니다 -->
                        </div>
                    </div>
                    
                    <!-- Next Step 섹션 -->
                    <h2 class="section-title" style="grid-column: 1 / -1; display: flex; align-items: center; gap: 8px;">
                        <span>Next Step</span>
                        <button class="section-toggle-btn" data-section="next" aria-label="섹션 펼치기/접기">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </h2>
                    <div class="section-thumbnails" data-section="next">
                        <div class="test-thumbnail-box service-box next1-thumbnail-box" data-box="4">
                            <!-- 썸네일 내용은 CSS로 처리되며, 클릭 시 넥스트1-1이 로드됩니다 -->
                        </div>
                    </div>
                </div>

                <!-- Expanded View -->
                <div class="test-expanded-view hidden" id="expandedView">
                    <!-- 좌우 화살표 버튼을 expandedBox 외부로 이동 -->
                    <button class="slide-nav-btn slide-nav-btn-left" id="prevSlideBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="slide-nav-btn slide-nav-btn-right" id="nextSlideBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                    <div class="test-expanded-box" id="expandedBox">
                        <!-- 확대된 박스 -->
                    </div>
                    <div class="test-slide-list" id="slideList">
                        <!-- 슬라이드 리스트가 들어갈 영역 -->
                    </div>
                </div>
            </main>
        </div>
    </section>

    <script src="assets/js/script.js"></script>
    <script src="assets/js/disable-rightclick.js"></script>
    <script>
        // 섹션 펼치기/접기 기능 (전역 함수로 노출)
        window.toggleSection = function(section, forceExpand = null) {
            const thumbnailsContainer = document.querySelector(`.section-thumbnails[data-section="${section}"]`);
            const toggleButton = document.querySelector(`.section-toggle-btn[data-section="${section}"]`);
            
            if (thumbnailsContainer && toggleButton) {
                const icon = toggleButton.querySelector('i');
                const isCurrentlyHidden = thumbnailsContainer.style.display === 'none';
                
                // 섹션별 박스 번호 매핑
                const sectionBoxes = {
                    'strategy': ['1', '5'],
                    'service': ['2', '3'],
                    'next': ['4']
                };
                
                // 섹션의 썸네일 박스들이 실제로 보이는지 확인하는 함수
                const areBoxesVisible = function() {
                    if (!sectionBoxes[section]) return false;
                    return sectionBoxes[section].some(boxNum => {
                        const box = document.querySelector(`.test-thumbnail-box[data-box="${boxNum}"]`);
                        return box && !box.classList.contains('hidden');
                    });
                };
                
                if (forceExpand !== null) {
                    // 강제로 펼치기/접기
                    if (forceExpand) {
                        thumbnailsContainer.style.display = '';
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                        
                        // 해당 섹션의 썸네일 박스 표시
                        if (sectionBoxes[section]) {
                            sectionBoxes[section].forEach(boxNum => {
                                const box = document.querySelector(`.test-thumbnail-box[data-box="${boxNum}"]`);
                                if (box) {
                                    box.classList.remove('hidden');
                                }
                            });
                        }
                    } else {
                        thumbnailsContainer.style.display = 'none';
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    }
                } else {
                    // 토글 - 섹션이 숨겨져 있거나 썸네일이 숨겨져 있으면 펼치기
                    if (isCurrentlyHidden || !areBoxesVisible()) {
                        thumbnailsContainer.style.display = '';
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                        
                        // 해당 섹션의 썸네일 박스 표시
                        if (sectionBoxes[section]) {
                            sectionBoxes[section].forEach(boxNum => {
                                const box = document.querySelector(`.test-thumbnail-box[data-box="${boxNum}"]`);
                                if (box) {
                                    box.classList.remove('hidden');
                                }
                            });
                        }
                    } else {
                        thumbnailsContainer.style.display = 'none';
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    }
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const toggleButtons = document.querySelectorAll('.section-toggle-btn');
            
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    window.toggleSection(section);
                });
            });
        });
    </script>
</body>
</html>

